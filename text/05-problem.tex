% написать черновой вариант по теории 
\chapter{Введение в проблему синтеза маршрутов}
% ---
Следует отметить, что построение систем поддержки принятия решений рассматривается в контексте систем 
сбора, хранения и обработки данных, реализующих алгоритмы генерации информации в соответствии с различными 
уровнями представления \cite{bib:4}. В рамках данной концепции человек -- лицо принимающий решение -- 
должен быть исключен из контура оперативного управления и перемещен на уровень супервизорного управления 
\cite{bib:5}.

На основе анализа программных продуктов, специализирующихся на задачах транспортного моделирования 
(PTV Visum \cite{bib:6}, INRO Emme \cite{bib:7}, Citilabs Cube Cloud \cite{bib:8} и др.), были выявлены 
основные функции, которые в основном ориентированы на оценку качества действующей или проектируемой 
маршрутной сети.

PTV Visum (компания PTV Group): предлагает инструменты для проведения комплексного анализа действующих 
сетей, позволяет оценивать технико-экономические характеристики проектируемой сети маршрутов. На основе 
анализа матриц корреспонденций между районами, реализована возможность прогнозирования транспортного спроса, 
что помогает оценить количество необходимого подвижного состава и составить расписание его работы. 
Emme (компания INRO Software) и Cube Cloud (компания Citilabs): SaaS-программные продукты со схожей 
функциональностью.

Таким образом, если рассматривать задачу поддержки принятия решений по совершенствованию маршрутов 
общественного транспорта с точки зрения (а) анализа существующих маршрутов на предмет удовлетворения 
спроса и (б) модификации существующих (через предложение новых вариантов маршрутов) с целью удовлетворения 
спроса жителей (уменьшение среднего времени пешего подхода до остановки и уменьшение времени поездки), то 
рассмотренные системы не решают сформулированные задачи и имеют следующие недостатки: (а) не учитывают 
предпочтения жителей по перемещениям в современной городской среде; (б) не адаптированы к работе с 
большими данными.

Для решения задачи предлагается подход, состоящий из следующих шагов. 
\begin{enumerate}
    \item Сбор и/или моделирование геораспределенных данных о перемещении жителей в городе.
    \item Кластеризация полученных данных с целью выявления узлов (кандидаты остановочных пунктов) для 
        включения в маршруты сети.
    \item Построение вариантов сетей маршрутов общественного транспорта.
    \begin{enumerate}
        \item Задание характеристик проектируемой сети и функции, определяющей эффективность 
            функционирования сети.
        \item Формирование начального варианта сети маршрутов общественного транспорта.
    \end{enumerate}
    \item Модификация начального варианта сети маршрутов общественного транспорта (генерация 
        альтернативных сетей и их сравнение по критерию минимума функции затрат).
    \item Определение эффективности каждого варианта сети.
\end{enumerate}
Следует отметить, что данный подход не противоречит существующим практикам построения маршрутов, но 
обеспечивает реализацию 1-3 шагов в автоматическом режиме. Тогда как в существующих методиках \cite{bib:9} 
эти этапы не автоматизированы. Пользователю предлагается либо вручную задать матрицу корреспонденций, 
либо загрузить готовую маршрутную сеть.

% ---
Развитие городов сопряжено с модернизацией существующей сети общественного транспорта. Управление городской 
инфраструктурой или городское планирование представляет собой набор сложных процедур, где определенное 
решение может оказать сильное влияние или не удовлетворить всех жителей. Градостроительство охватывает 
транспорт, связь, распределение и проектирование сетей и многие другие для улучшения жизни людей. Новый 
вызов для быстрорастущих городов в создании более надёжной системы общественного транспорта для жителей. 
В идеале использование общественного транспорта должно уменьшить затрачиваемое время на передвижение, как 
если бы каждый отдельный человек использовал свой личный транспорт.

Часто текущие системы планирования транспортной сети не принимают во внимание реальные предпочтения 
большинства жителей. Это приводит к фундаментальным проблемам: общественным транспортом становится неудобно 
пользоваться, народ всё чаще начинает использовать личные автомобили, что приводит к потере личного времени 
на стоянии в пробках. Все эти негативные воздействия являются причиной недовольства жителей города.

В настоящее время повсеместный сбор данных и их технологии их обработки, которые становятся всё дешевле и 
дешевле, открывают новые возможности для проектировщиков. По крайней мере, большинство людей, которые 
живут в городах, имеют мобильные телефоны и смартфоны. Мобильные операторы могут отслеживать звонки людей 
и получать огромное количество данных о их перемещении. Исходя из предположения, что определенный человек 
имеет свои собственные <<шаблоны перемещения>> (часто используемые точки отправления-назначения), которые 
можно рассматривать в качестве личных транспортных предпочтениях по перемещению. Имея эти данные можно (i) 
оценить эффективность текущей транспортной сети и (ii) предложить модификацию на основе предпочтения 
граждан.

Для решения данных проблем необходимо выполнить следующие процедуры: (i) сбор данных, (ii) обработка данных, 
(iii) создание набора суб-/оптимальных маршрутов и (iv) выбор сети в соответствии с критериями качества.
Сбор данных требует методов для получения и предварительной обработки для дальнейшего эффективного хранения.
Это не обязательно сбор данных в режиме реального времени, создание моментальных <<снимков>> данных или 
дамп данных в определенный момент, для использования данных в дальнейшем. Основным моментом для сбора 
данных является обеспечение их качества, такое как определение разрыва (The crucial points of the data 
gathering is data quality assurance, such as gap detection.). Поскольку получение данных происходит от 
каждого отдельного человека, то имеем возможность оценить наиболее оптимальные места в качестве узловых 
маршрутов общественного транспорта. Допустим, мы получаем информацию о 10\% жителей город с 3.5 млн. 
населения. В этом случае матрица корреспонденции составляет \( 350 000^2 \) элементов. Уменьшение количества 
оригинальных узлов графа позволяет выявить центры кластеров и узлов, для того, чтобы понять, где можно 
разместить остановочный пункт общественного транспорта.

Следующим шагом является объединение центров кластеров для создания суб- оптимальных маршрутов сети 
общественного транспорта. Это очень сложная многокритериальная задача с множеством ограничений. Эта проблема 
лежит на пересечении проблемы поиска кратчайшего пути и задачи выбора маршрута транспортного средства с 
входным параметром пассажиропотока. Задача о поиске кратчайшего пути является наиболее известной, для которой 
есть много эффективных и быстрых программных реализаций, например Open Source Routing Machine (OSRM). Однако, 
% можно добавить ссылку на OSRM
есть несколько особенностей в данной задач, такие что базовые алгоритмы не могут быть применены в текущем 
виде. В отличии от задачи о поиске кратчайшего пути с функцией затрат, рассматривается более сложная функция 
стоимости, которая включает время пешего хода, время проведённое в пути и другие количественные изменения. 
Все эти переменные являются усреднёнными по числу жителей. Кроме того, важным различием между этими 
алгоритмами является, что конечная точка в маршруте не может быть произвольной, так как каждый маршрут должен 
содержать узлы (остановки), которые представляют собой центры кластеров, определенных на предыдущем шаге.

Получение оптимальной сети общественного транспорта за один шаг является очень сложным и требует активного 
вмешательства человека. Как результат могут быть применены эволюционные алгоритмы, чтобы избежать дополнительных 
затрат на начальном этапе построения. Есть целый ряд мероприятий, связанных с предлагаемым подходом: (i) 
создать сети начальных маршрутов, (ii) изменить исходную сеть, применив операцию эволюционного алгоритма, 
такие как мутации и скрещивания; (iii) оценить существующие сети и функции затрат.

% не закончено описание
\ldots

% ----------------------------------------------
% обзор литературы
% ----------------------------------------------
\section{Анализ предметной области}
% описание предметной области

\section{Состояние современных исследований}
Public transportation planning and developing public transport network is well studied domain. 
According to ~\cite{ceder2007} the planning methodology includes the sequence of actions: 
(i) public transportation network design; (ii) setting timetables; (iii) scheduling vehicles 
to trips, (iv) and assignment of drivers and other maintenance work. 

Also we observe some theoretical results in path design and route planning. Thomas L. Rodeheffer 
suggested the Symmetric Shortest-Path Table Routing Conjecture. In the work 
\cite{rodeheffer2013symmetric} he describes a symmetric shortest-path table routing, and presented 
counterexamples to the hypothesis: every possible symmetric shortest-path table routing can be 
selected in this way by some edge weight salting.

Daniel Delling et al suggested round-based public transit routing approach. In the paper 
\cite{delling2014round} authors explore the problem of computing all Pareto-optimal journeys in a 
dynamic public transit network and introducing round-based public transit router algorithm (named RAPTOR).

Another work \cite{delling2015customizable} explains customizable route planning in road networks. In 
this paper, authors propose routing engine for computing driving directions in large-scale road networks. 
Also Daniel Delling et al, in the paper \cite{delling2015public} suggested public transit labeling as the 
solution of the journey planning problem in public transit networks. 

Ittai Abraham et al, in the paper \cite{abraham2013alternative} suggested alternative routes in Road 
Networks. In this paper, authors explore the problem of finding good alternative routes in road networks. 
They search for routes which (i) are substantially differ from the shortest path, (ii) have small stretch, 
and (iii) are locally optimal. 

Ling-Yin Wei et al, in the work \cite{wei2012constructing} suggested RICK algorithm for constructing 
popular routes from uncertain trajectories using information about sequence of locations and time 
intervals.

Tim Dwyer and Lev Nachmanson, in the work \cite{dwyer2009fast} suggested fast edge-routing for large 
graphs. In this paper two methods for achieving faster edge routing using approximate shortest-path 
techniques are suggested and discussed.

% -------- разместить в главе 05-problem -------
Формально данная задача связана с поиском оптимального пути на графе. Были проанализированы различные и 
широко используемые алгоритмы построения пути: \( A^\star \), \( IDA^\star \), поиск в ширину 
(Breadth-First-Search), поиск <<лучший-первый>> (Best-First-Search), алгоритм Дейкстры, двунаправленный 
\( A^\star \), Jump Point Search, Orthogonal Jump Point Search, двухэтапные алгоритмы (ALT, Reach), а 
так же генетические алгоритмы случайного поиска \cite{bib:19}. 

Algorithms such as A*, IDA*, Breadth-First-Search, ALT (\( A^\star \), landmarks and triangle inequality) 
basically work without data preprocessing, resulting in the need to traverse large graphs and considerable 
associated time costs. In contrast, in algorithms such as HLC (Hub Label Compression), HL (Hub Labeling), 
TNR (Transit Node Routing) and table search, the main costs are associated with data preprocessing and 
disk storage, whereas the actual run time of the algorithm is modest \cite{bib:21}.
% --- больше ссылок на источники (алгоритмы) ---
% ----------------------------------------------

% --- duplicate (see header) ---
Besides on theoretical results, software implementations for decision support in urban transportation 
planning have been observed. PTV Visum~\cite{bib:6} is software for evaluation existed (defined by 
responsible person) public transport network based on transportation matrix. Another software called 
Emme, proposed by ``INRO Software''~\cite{bib:7} and SaaS solution by Citilabs named 
Cube Cloud~\cite{bib:8}.
% --- duplicate (see header) ---

The Transportation Analysis and Simulation System (TRANSIMS) developed by \cite{transims} is a set of 
tools for analysis of regional transportation systems. TRANSIMS is an open source project which is 
available for public usage under NASA Open Source Agreement Version 1.3.
 
Also, in urban development traffic modelling software is used, like Aimsun that allows to model fusing 
travel demand and simulate networks of difference complexity \cite{aimsun}.

% ----------------------------------------------
% other information
% ----------------------------------------------
В книге Алгоритмы решения экстремальных задач\cite{bib:56} подробно излагается теория и численные методы 
для решения важных задач: от задач линейного программирования до ряда дискретных задач. Также сюда входят 
и транспортные задачи, которой посвящены главы с третьей по четвёртую, а также пятая глава, где 
рассматриваются многоэкстремальные задачи на графах. Изложение численных методов сопровождается разбором 
алгоритмов, а также у обращение внимания на эффективную организацию вычислительного процесса. Хотя книга 
и вышла в 77 году она не потеряла своей актуальности.

В статье Алгоритмы построения маршрута на карте по параметрам\cite{bib:46} предоставляется обоснование 
о необходимости создания алгоритмов построения маршрута по параметрам, для того чтобы он соответствовал 
необходимым предпочтениям жителей, а также о пользе использования генетических алгоритмах в задаче 
построения маршрутов.

В диссертационной работе <<Методы локального поиска для дискретных задач размещения>>\cite{bib:45} 
рассматриваются математические модели размещения, а конкретно дискретные оптимизационные задачи. Данная 
работа носит в основном теоретический характер и является отличным источником информации о эвристических 
методах и их теоретической базе.

В статье <<Формирование оптимальных маршрутов в мобильных сетях на основе модифицированного алгоритма 
Дейкстры>>\cite{bib:55} представлен модифицированный алгоритм Дейкстры. Модификация предложенная в статье 
предлагает учитывать динамику загруженности сети, что было бы неплохо для динамического построения 
актуальных маршрутных сетей транспорта.

В книге Алгоритмы\cite{bib:47} подробно излагаются основные методы построения и анализа эффективных 
алгоритмов. Материал в книге довольно отличается от других изданий методом подачи информации -- баланс в 
математической строгости и использовании формальных подходов, а также в выборе освещаемых вопросов. 
Издание является наиболее свежим источником информации по алгоритмам читаемым студентам в университете Беркли.

Автор статьи <<Метаэвристические алгоритмы для задач комбинаторной оптимизации >>\cite{bib:48} описывает 
теоретическую базу метаэвристических алгоритмов и подробно рассматривает методы на их основе. Статья носит 
обзорных характер и предназначена для краткого ознакомления с метаэвристическими методами.

Автор статей \cite{bib:50,bib:51} описывает применение метода имитации отжига к задаче маршрутизации 
транспорта, а также производит сравнение с другими эвристическими методами и показывает, что метод 
используемый в статье даёт меньшую погрешность.

В книге <<Современные алгоритмы поисковой оптимизации>>\cite{bib:52} автор подробно изложил современные 
стохастические алгоритмы решения однокритериальной задачи оптимизации, а также методы повышения 
эффективности этих алгоритмов. Также в данной учебном пособии рассматривается задача многокритериальной 
оптимизации и алгоритмы для её решения.

В книге <<Теория алгоритмов>>\cite{bib:53} предоставляется информация по основным вопросам разработки и 
анализа приближенных алгоритмов для задач оптимизации. Рассмотрены методы построения алгоритмов 
локального поиска и метаэвристики, а также основное внимание уделено математическим методам решения задач 
и методам анализа их вычислительной сложности.

В работах \cite{bib:54,bib:57} автор приводит обзор методов для решения NP-трудных задач, рассматриваются 
общие схемы алгоритмов. Особое внимание уделено математическому аппарату рассматриваемых алгоритмов. 
Если работа \cite{bib:54} носит более общих характер, то \cite{bib:57} рассматривает более узконе 
направление -- методы локального поиска с чередующимися окрестностями.

В дипломной работе \cite{bib:22} автором рассматривается проблема построения матрицы корреспонденций для 
транспортной сети на примере города Владивостока. Рассмотрены различные математические модели определения 
корреспонденций и описана их теоретическая база, а также разработка алгоритмов на их основе.

В книге \cite{bib:23} излагается материал от теории экономического равновесия до математический модели 
транспортных потоков, которые могут пригодиться при создании/модернизации транспортной системы. Представлено 
на рассмотрение большое количество моделей от макроскопических, например как модель Танака, до микроскопических, 
таких как модели клеточных автоматов. Также в книге представлен новый теоретический базис для развития 
интеллектуальных транспортных технологий.

В статье <<О возможной динамике в модели расчета матрицы корреспонденций (А.~Дж.~Вильсона)>>\cite{bib:24} 
проводится исследование динамики макросистем основанной на эргодической марковской цепи. Основу работы 
составляет исследование равновесия данной макросистемы.


% ----------------------------------------------

% ----------------------------------------------
\section{Требования к методам}
\section{Заключение}